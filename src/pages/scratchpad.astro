---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body class="bg-white text-[#333932] dark:bg-[#333932] dark:text-white">
    <main class="fixed inset-0 w-full h-full">
      <canvas id="canvas" class="w-full h-full"></canvas>
      <button
        id="close-fullscreen"
        class="fixed top-4 right-4 z-10 hidden bg-black/50 hover:bg-black/70 text-white rounded-full p-2 transition-colors"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M18 6L6 18M6 6L18 18"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
      </button>
    </main>
    <script>
      import { game } from '../lib/game.ts';
      const canvas = document.getElementById('canvas') as HTMLCanvasElement;
      const abortCtrl = new AbortController();
      game(canvas, abortCtrl.signal);
    </script>
  </body><style>
    canvas {
      image-rendering: pixelated;
    }
  </style>
</html>
